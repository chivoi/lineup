<h2 class="ml-5 mb-4">Sign up</h2>

<%= simple_form_for([resource_name, resource.with_profile], url: registration_path(resource_name)) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <%= f.input :email,
                required: true,
                autofocus: true,
                input_html: { autocomplete: "email" },
                wrapper_html: {class: "form-group mb-3 ml-3"}%>
    <%= f.input :password,
                required: true,
                hint: ("#{@minimum_password_length} characters minimum" if @minimum_password_length),
                input_html: { autocomplete: "new-password" },
                wrapper_html: {class: "form-group mb-3 ml-3"} %>
    <%= f.input :password_confirmation,
                required: true,
                input_html: { autocomplete: "new-password" },
                wrapper_html: {class: "form-group mb-3 ml-3"} %>
    <h1 class="ml-5 mb-4">Tell us a bit about your act</h1>       
    <%= f.simple_fields_for :profile do |s| %>
      <%= s.input :name, 
                  label: "Name of your act", 
                  wrapper_html: {class: "form-group mb-3 ml-3"} %>
      <%= s.input :playtime, 
                  label: "How long is your set?", 
                  hint: "Ex: 30-45 min", 
                  wrapper_html: {class: "form-group mb-3 ml-3"} %>
      <%= s.association :musictype, 
                  label: "Type of set", 
                  label_method: :name,
                  value_method: :id,
                  include_blank: false,
                  wrapper_html: {class: "form-group mb-3 ml-3"} %>
      <%= s.association :styles, 
                  label: "Music styles", 
                  as: :check_boxes, 
                  wrapper_html: {class: "form-group mb-3 ml-3 d-flex flex-row"} %>
      <%= s.input :demolinks, 
                  label: "Links to demos", 
                  hint: "Post links to the videos of your act, social media profiles, any released music or demos.", 
                  as: :text, 
                  wrapper_html: {class: "form-group mb-3 ml-3"} %>
      <%= s.input :location, 
                  wrapper_html: {class: "form-group mb-3 ml-3"} %>
      <%= s.input :bio, 
                  as: :text, 
                  wrapper_html: {class: "form-group mb-3 ml-3"} %>
      <%= s.input :teamups, 
                  label: "Are you open to teaming up with other bands to organize shows together?", 
                  hint: "Ticking this box will show your band profile in Browse Musos section, allow you to message other members and other members message you for teamups. If you don't tick it, you can still apply for gigs and post your own.", 
                  as: :boolean, 
                  checked_value: true, unchecked_value: false, 
                  wrapper_html: {class: "form-group mb-3 ml-3"}  %>
      <%= s.file_field :image,
            label: "Upload a photo of your act", 
            as: :image, 
            multiple: true,
            input_html: { data: { direct_upload_url: :rails_direct_uploads_url } },
            wrapper_html: {class: "form-group mb-5 ml-3"} %>
      <% end %>
    <div class="form-actions">
    <%= f.button :submit, "Sign up" %>
    </div>
  </div>
<%end%>
